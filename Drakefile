output/baseline-cifar10 <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-cifar10-baseline.job $OUTPUT0 && echo "Job submitted, please wait for >1 hour"

output/baseline-mnist, output/baseline-mnist/cnn.pkl <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-mnist-baseline.job $OUTPUT0 && echo "Job submitted, please wait for >10 min"

output/ablation-cifar10-models <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-cifar10-ablation.job $OUTPUT0 && echo "Job submitted, please wait for >1 day"

output/ablation-cifar10-models2 <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-cifar10-ablation2.job $OUTPUT0 && echo "Job submitted, please wait for >1 day"

output/ablation-mnist-models <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-mnist-ablation.job $OUTPUT0
    sbatch scripts/train-mnist-mse.job $OUTPUT0
    echo "Jobs submitted, please wait for a few hours"

output/subtractive-ablation-mnist-models <- train.py [-timecheck]
    mkdir -p $OUTPUT0
    sbatch scripts/train-mnist-subtractive-ablation.job $OUTPUT0
    echo "Jobs submitted, please wait for a few hours"

output/ablation-mnist-results.json <- output/ablation-mnist-models
    # sbatch scripts/attack-mnist-ablation.job $INPUT0 $OUTPUT0 # GPU
    echo "Jobs submitted, please wait for a few hours"

output/ablation-mnist-results2.json <- output/ablation-mnist-models
    sbatch scripts/attack-mnist-ablation2.job $INPUT0 $OUTPUT0 # CPU
    echo "Jobs submitted, please wait for a few hours"

output/ablation-mnist-results3.json <- output/ablation-mnist-models
    sbatch scripts/attack-mnist-ablation3.job $INPUT0 $OUTPUT0 # CPU
    echo "Jobs submitted, please wait for a few hours"

output/ablation-mnist-results-spsa.json <- output/ablation-mnist-models
    sbatch scripts/attack-mnist-ablation-spsa.job $INPUT0 $OUTPUT0 && echo "Job submitted, please wait for a few hours"

output/ablation-cifar10-results.json <- output/ablation-cifar10-models
    rm $OUTPUT0
    sbatch scripts/attack-cifar10-ablation.job $INPUT0 $OUTPUT0 
    sbatch scripts/attack-cifar10-ablation-spsa.job $INPUT0 $OUTPUT0 
    echo "Jobs submitted, please wait for a few hours"

output/ablation-cifar10-results2.json <- output/ablation-cifar10-models2
    rm $OUTPUT0
    sbatch scripts/attack-cifar10-ablation.job $INPUT0 $OUTPUT0
    sbatch scripts/attack-cifar10-ablation-spsa.job $INPUT0 $OUTPUT0
    echo "Jobs submitted, please wait for a few hours"

output/natural-mnist-results.json <- output/ablation-mnist-models
    rm $OUTPUT0
    sbatch scripts/evaluate-natural-mnist.job $INPUT0 $OUTPUT0

output/natural-cifar10-results.json <- output/ablation-cifar10-models
    rm $OUTPUT0
    sbatch scripts/evaluate-natural-cifar10.job $INPUT0 $OUTPUT0
    
output/natural-cifar10-results2.json <- output/ablation-cifar10-models2
    rm $OUTPUT0
    sbatch scripts/evaluate-natural-cifar10.job $INPUT0 $OUTPUT0
